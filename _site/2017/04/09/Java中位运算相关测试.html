<h1 id="java中位运算相关测试">Java中位运算相关测试</h1>

<hr />
<p>layout: post
title: “Java中位运算相关测试”
description: “”
category: [“Coding”]
—</p>

<h2 id="对应的代码注释如下">对应的代码注释如下</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">dellyqiao</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">Arrays</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">TestBinary</span> <span class="p">{</span>
	<span class="k">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="k">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="m">51</span><span class="p">&amp;</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="m">51</span><span class="p">|</span><span class="m">5</span><span class="p">);</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="m">51</span><span class="p">^</span><span class="m">5</span><span class="p">);</span> <span class="p">//</span><span class="err">按位取值对比，不同为</span><span class="m">1</span><span class="err">，相同为</span><span class="m">0</span><span class="err">，可用来翻转某几位（</span><span class="m">1</span><span class="err">），用</span><span class="m">0</span><span class="err">保留原值</span>
		<span class="p">//</span><span class="err">变量交换值</span> <span class="p">(</span><span class="n">a</span><span class="p">^</span><span class="n">a</span><span class="err">为</span><span class="m">0</span><span class="err">，</span><span class="n">b</span><span class="p">^</span><span class="n">b</span><span class="err">为</span><span class="m">0</span><span class="err">。而数字</span><span class="p">^</span><span class="m">0</span><span class="err">为原数字。所以</span>
		<span class="p">//</span><span class="n">a</span><span class="p">^</span><span class="n">b</span><span class="err">为中间值，新</span><span class="n">b</span><span class="p">=</span><span class="err">中间值</span><span class="p">^</span><span class="n">b</span><span class="err">，新</span><span class="n">a</span><span class="p">=</span><span class="err">中间值</span><span class="p">^</span><span class="n">a</span><span class="p">)</span>
		<span class="n">int</span> <span class="n">a</span> <span class="p">=</span> <span class="m">51</span><span class="p">;</span>
		<span class="n">int</span> <span class="n">b</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
		<span class="n">a</span><span class="p">=</span><span class="n">a</span><span class="p">^</span><span class="n">b</span><span class="p">;</span>
		<span class="n">b</span><span class="p">=</span><span class="n">a</span><span class="p">^</span><span class="n">b</span><span class="p">;</span>
		<span class="n">a</span><span class="p">=</span><span class="n">a</span><span class="p">^</span><span class="n">b</span><span class="p">;</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">a</span> <span class="p">+</span> <span class="s2">" "</span> <span class="p">+</span> <span class="n">b</span><span class="p">);</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(~</span><span class="m">0</span> <span class="p">+</span> <span class="s2">" "</span> <span class="p">+</span> <span class="p">~</span><span class="m">1</span><span class="p">);</span> <span class="p">//</span><span class="err">取反，每一位取反</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="m">2</span><span class="p">&lt;&lt;</span><span class="m">1</span><span class="p">);</span> <span class="p">//</span><span class="err">左移。二进制位全部左移，左边二进制位丢弃，右边补</span><span class="m">0</span>
		<span class="p">//</span><span class="err">若舍弃的高位不包含</span><span class="m">1</span><span class="err">，则每左移一位，相当于乘以</span><span class="m">2</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(-</span><span class="m">14</span><span class="p">&lt;&lt;</span><span class="m">2</span><span class="p">);</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="m">4</span><span class="p">&gt;&gt;</span><span class="m">2</span><span class="p">);</span> <span class="p">//</span><span class="err">右移。正数左补</span><span class="m">0</span><span class="err">，负数左补</span><span class="m">1</span><span class="err">，右边丢弃。</span>
		<span class="p">//</span><span class="err">每右移一位，相当于该数除以</span><span class="m">2</span><span class="err">。</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(-</span><span class="m">14</span><span class="p">&gt;&gt;</span><span class="m">2</span><span class="p">);</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(-</span><span class="m">14</span><span class="p">&gt;&gt;&gt;</span><span class="m">2</span><span class="p">);//</span><span class="err">无符号右移。左补</span><span class="m">0</span><span class="err">，右丢弃</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="n">toBinaryString</span><span class="p">(</span><span class="m">112</span><span class="p">));</span> <span class="p">//</span><span class="err">转二进制</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="n">toHexString</span><span class="p">(</span><span class="m">112</span><span class="p">));</span> <span class="p">//</span><span class="err">转</span><span class="m">16</span><span class="err">进制</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="n">toOctalString</span><span class="p">(</span><span class="m">112</span><span class="p">));</span> <span class="p">//</span><span class="err">转</span><span class="m">8</span><span class="err">进制</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="nf">parseInt</span><span class="p">(</span><span class="s2">"111001"</span><span class="p">,</span> <span class="m">2</span><span class="p">));</span> <span class="p">//</span><span class="err">二进制转</span><span class="m">10</span><span class="err">进制</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="nf">parseInt</span><span class="p">(</span><span class="s2">"27"</span><span class="p">,</span> <span class="m">8</span><span class="p">));</span> <span class="p">//</span><span class="err">八进制转十进制</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">Integer</span><span class="p">.</span><span class="nf">parseInt</span><span class="p">(</span><span class="s2">"1A"</span><span class="p">,</span> <span class="m">16</span><span class="p">));</span> <span class="p">//</span><span class="m">16</span><span class="err">进制转十进制</span>
		
		
		<span class="p">//</span><span class="n">int</span><span class="err">转为</span><span class="n">byte</span><span class="p">[]</span>
		<span class="n">int</span> <span class="n">id</span> <span class="p">=</span> <span class="m">8143</span><span class="p">;</span>
		<span class="n">byte</span><span class="p">[]</span> <span class="n">arr</span> <span class="p">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[</span><span class="m">4</span><span class="p">];</span>
		<span class="n">arr</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)((</span><span class="n">int</span><span class="p">)(</span><span class="n">id</span> <span class="p">&gt;&gt;</span> <span class="m">0</span><span class="p">*</span><span class="m">8</span><span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">);</span>
		<span class="n">arr</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)((</span><span class="n">int</span><span class="p">)(</span><span class="n">id</span> <span class="p">&gt;&gt;</span> <span class="m">1</span><span class="p">*</span><span class="m">8</span><span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">);</span>
		<span class="n">arr</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)((</span><span class="n">int</span><span class="p">)(</span><span class="n">id</span> <span class="p">&gt;&gt;</span> <span class="m">2</span><span class="p">*</span><span class="m">8</span><span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">);</span>
		<span class="n">arr</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">byte</span><span class="p">)((</span><span class="n">int</span><span class="p">)(</span><span class="n">id</span> <span class="p">&gt;&gt;</span> <span class="m">3</span><span class="p">*</span><span class="m">8</span><span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">);</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">+</span><span class="s2">","</span> <span class="p">+</span> <span class="n">arr</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">+</span> <span class="s2">","</span> <span class="p">+</span> <span class="n">arr</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">+</span> <span class="s2">","</span> <span class="p">+</span> <span class="n">arr</span><span class="p">[</span><span class="m">3</span><span class="p">]);</span>
		
		
		<span class="p">//</span><span class="n">byte</span><span class="p">[]</span><span class="err">转为</span><span class="n">int</span>
		<span class="n">int</span> <span class="n">rs0</span> <span class="p">=</span> <span class="p">(</span><span class="n">int</span><span class="p">)((</span><span class="n">arr</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">0</span><span class="p">*</span><span class="m">8</span><span class="p">);</span>
		<span class="n">int</span> <span class="n">rs1</span> <span class="p">=</span> <span class="p">(</span><span class="n">int</span><span class="p">)((</span><span class="n">arr</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">1</span><span class="p">*</span><span class="m">8</span><span class="p">);</span>
		<span class="n">int</span> <span class="n">rs2</span> <span class="p">=</span> <span class="p">(</span><span class="n">int</span><span class="p">)((</span><span class="n">arr</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">2</span><span class="p">*</span><span class="m">8</span><span class="p">);</span>
		<span class="n">int</span> <span class="n">rs3</span> <span class="p">=</span> <span class="p">(</span><span class="n">int</span><span class="p">)((</span><span class="n">arr</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">&amp;</span> <span class="m">0xff</span><span class="p">)</span> <span class="p">&lt;&lt;</span> <span class="m">3</span><span class="p">*</span><span class="m">8</span><span class="p">);</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">rs0</span> <span class="p">+</span> <span class="n">rs1</span> <span class="p">+</span> <span class="n">rs2</span> <span class="p">+</span> <span class="n">rs3</span><span class="p">);</span>
		
		<span class="p">//</span><span class="err">字符串与字节</span>
		<span class="k">String</span> <span class="n">describe</span> <span class="p">=</span> <span class="s2">"你好世界"</span><span class="p">;</span>
		<span class="n">byte</span><span class="p">[]</span> <span class="n">barr</span> <span class="p">=</span> <span class="n">describe</span><span class="p">.</span><span class="n">getBytes</span><span class="p">();</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="n">toString</span><span class="p">(</span><span class="n">barr</span><span class="p">));</span>
		<span class="k">String</span> <span class="n">des</span> <span class="p">=</span> <span class="n">new</span> <span class="k">String</span><span class="p">(</span><span class="n">barr</span><span class="p">);</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">des</span><span class="p">);</span>
		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
